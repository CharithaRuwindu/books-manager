<form [formGroup]="bookForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input 
      type="text"
      id="title"
      formControlName="title"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && bookForm.controls['title'].errors }"
      [disabled]="isSubmitting"
    />
    <div *ngIf="submitted && bookForm.controls['title'].errors" class="invalid-feedback">
      <div *ngIf="bookForm.controls['title'].errors['required']">Title is required</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="author" class="form-label">Author</label>
    <input 
      type="text"
      id="author"
      formControlName="author"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && bookForm.controls['author'].errors }"
      [disabled]="isSubmitting"
    />
    <div *ngIf="submitted && bookForm.controls['author'].errors" class="invalid-feedback">
      <div *ngIf="bookForm.controls['author'].errors['required']">Author is required</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="isbn" class="form-label">ISBN</label>
    <input 
      type="text"
      id="isbn"
      formControlName="isbn"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && bookForm.controls['isbn'].errors }"
      [disabled]="isSubmitting"
    />
    <div *ngIf="submitted && bookForm.controls['isbn'].errors" class="invalid-feedback">
      <div *ngIf="bookForm.controls['isbn'].errors['required']">ISBN is required</div>
      <div *ngIf="bookForm.controls['isbn'].errors['pattern']">ISBN must be 10-17 digits and hyphens</div>
    </div>
  </div>

  <div class="mb-3">
    <label for="publicationDate" class="form-label">Publication Date</label>
    <input 
      type="date"
      id="publicationDate"
      formControlName="publicationDate"
      class="form-control"
      [ngClass]="{ 'is-invalid': submitted && bookForm.controls['publicationDate'].errors }"
      [disabled]="isSubmitting"
    />
    <div *ngIf="submitted && bookForm.controls['publicationDate'].errors" class="invalid-feedback">
      <div *ngIf="bookForm.controls['publicationDate'].errors['required']">Publication date is required</div>
    </div>
  </div>

  <div class="d-flex justify-content-end">
    <button 
      type="button" 
      class="btn btn-secondary me-2" 
      (click)="onCancel()"
      [disabled]="isSubmitting">
      Cancel
    </button>
    <button 
      type="submit" 
      class="btn btn-primary"
      [disabled]="isSubmitting">
      <span *ngIf="isSubmitting" class="me-2">
        <app-loading-spinner size="sm" color="light"></app-loading-spinner>
      </span>
      {{ isEditMode ? 'Update' : 'Add' }}
    </button>
  </div>
</form>